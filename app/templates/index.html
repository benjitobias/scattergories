{% extends "base.html" %}
{% import 'bootstrap/wtf.html' as wtf %}
{% block app_content %}
    <h1>Add new category</h1>
        <div class="row">
            <div class="col-md-4">
                <form method="post" novalidate id="new_category_form" action="{{ url_for('add_category') }}">
                    {{ wtf.quick_form(form) }}
                </form>
                <p id="response"></p>
            </div>
        </div>
{% endblock %}
{% block scripts %}
{{ super() }}
    <script>
         $(document).ready(function() {
            $("#new_category_form").submit(function(e) {
                e.preventDefault();

                var form = $(this);
                var url = form.attr('action');

                $.ajax({
                    type: "POST",
                    url: url,
                    data: form.serialize(),
                    success: function(data)
                    {
                        $("#response").html("Added!");
                    }
                });
            });
        });
    </script>
{% endblock %}}